Copyright distributed.net 1997 - All Rights Reserved
For use in distributed.net projects only.
Any other distribution or use of this source violates copyright.

Bugs Listing
  This is a text file that lists any bugs that have been found by either
  the coders, or by users.

1998/Sep/29 - Remi Guyomarch
  There is a confusion between httpport and port in network.cpp. If
  the user configure httpport to 8080 (or something else),
  Network::LowLevelPut() will send :
  POST http://someproxy.at.d.net.or.elsewhere:8080/cgi-bin/rc5.cgi
                                              ^^^^
  even if the keyproxy port should be 80 (is there any full proxy which
  listen to other ports in http mode ?).
  I'm not sure what is the fallback logic in Network::Open() and
  Network::Put()...

1998/Aug/24 - Cyrus Patel
  Win32 (gui only?) 417: (a) the client is not following the ini's path if 
  one has been specified on the command line. (b) the client is writing 
  the names of the checkpoint files supplied on the command line back to 
  the ini (It might be writing back more than that, unchecked.) even when
  config is not run (See related report 1998/Jan/06 by Remi). 
  The combination of (a) and (b) makes cross-platform buffer sharing 
  impossible. 

1998/Aug/24 - Cyrus Patel
  "Lurk"ers: fix the FIXMEs in netinit.cpp
FIXED (half) - myself
  Win32 is fixed, OS/2 is mostly fixed, two FIXMEs remain pending.  
    
1998/Jul/01 - Oscar Chang
  Can't figure out how to fix the weirdness of -runbuffers. Can someone more
  farmilar with the Run() loops take a look?
FIXED SORTOF - Jeff
  No longer prints funny stuff, but the client quits as soon as the
  buffers are emptied instead of after the blocks currently in memory
  are completed.

1998/Jun/23 - Kevin Bracey
  The help display crashes if the terminal height is more than the
  amount to be displayed.
FIXED - Remi

  
1998/Jun/18 - Kevin Bracey
  There seem to be far too many breaks in the switch statement in the x86
  section of Client::SelectCore(). I think the fix is obvious, but I thought
  I'd better leave it to an x86 weenie.
FIXED - Remi
  even if I don't think being an x86 weenie ! :-)


06-14-98 - Mike Silbersack
  I just noticed that in the log file, there's a CR after received XX
  blocks, but none after Sent XX blocks; perhaps one should be removed,
  or the other added so that it's consistant.
FIXED - Kevin Bracey
  Should be no CRs in the log file now.


06-11-98 - Kevin Bracey
  During autodetect x86 and ARM cores will say "Automatically selecting
  fastest core... This is just a guess based on a small test of each core.
  If you know what CPU this machine has, then run 'rc5des -config', select
  option 17, and set it". It's not option 17 any more, and GUI builds
  shouldn't talk about rc5des -config.
FIXED (sorta) - since x86ident gets almost all know processors, and
  the selection based on speed was never accurate, I just removed it.
  Now unidentified chips will get core 0 by default.


06-11-98 - Mike Silbersack
  I just verified a report that x86ident on linux w/build 408
  core dumps for 486es.  This does not happen on win32, so it is
  probably a problem with x86ident.s's conversion from x86ident.asm
FIXED (?) - Remi
  Does the patch on x86ident.s work ? Can't test myself now,
  but the line replaced was wrong.
NOPE - Silby
  I just tried it again, and it still coredumps. (6/11/98)
FIXED - Remi - 06-13-98
  fstp dword[..] means "fstps" in AT&T, not "fstpl", grrr ...
  Ok, it works now. Note that I also patched cliconfig.cpp, it
  didn't test the correct value, see the log.


06-08-98 - Jeff Lawson
  Should a -detach option be made to make forked executions easier?
  It would probably set quiet mode, fork, close fd's 0,1,2, and reattach
  them all to /dev/null and then call setsid().  It might also be
  desirable to perform the functionality of "nohup" and ignore all other
  signals?  Maybe a -detachnohup or something to do this?
QUESTION - ZiggyB
  Can you just do a system("nohup rc5des ..."); whatever? Or am I over
  simplifying this?

06-08-98 - Jeff Lawson
  A user reported: (note this occurs under the gui clients where
  client member functions may be run many times, so it's likely that
  some variable isn't getting rezeroed at the start of the benchmark
  function):

  I noticed when you run a benchmark after the client has been running
  it displays the total number of blocks completed and the key rate
  instead of the actual benchmark results.

  Selecting Intel Pentium, Intel Pentium MMX, Cyrix 5x86 code
  Benchmarking RC5 with 10000000 tests:
  .....10%.....20%.....30%.....40%.....50%.....60%.....70%...(etc)...100
  Completed 5 RC5 Blocks 0.00:32:15.64 - [559887.82 keys/s]
FIXED - Cyrus
  a benchmark no longer affects (nor uses) the cumulative block statistics.


06-08-98 - Jeff Lawson
  Suggestion: A user reported: the send and recieve messages seem
  rather redundent.  For both send and recieve there is the proxy
  message.  Thats fine once, for the revieve say, but then gets
  redundent for the send.  Also, it first tells you that it "Retrieved
  block 1 of 1 (100.00% transferred)" and then tells you "Retrieved 1
  RC5 block(s) from server" One of these messages is nice, but two gets
  cluttering.
Partially Fixed (Silby + Kevin Bracey)
  The "retrieved block 1 of 1" message is now overwritten by the
  "Retrieved 1 block" message (same applies to send.)
  Duplicate proxy messages have not yet been fixed.
Fixed (Silby)  6/14/1998
  I fixed the duplicate display of proxy messages.  The output now looks
  like this:
  [Jun 14 06:06:18 GMT] The proxy says: "Cuidado, hay llamas!
                        (rc5proxy.llamas.net)"
  [Jun 14 06:06:18 GMT] Retrieved 1 RC5 block from server
  [Jun 14 06:06:19 GMT] Sent 1 RC5 block to server
  [Jun 14 06:06:19 GMT] Loaded RC5 1*2^30 block 6AC49B00:80000000


06-08-98 - Kevin Bracey
  New Bug: Run the client offline, with contestdone2 set to 1, and
           nothing in the input buffer. Instead of generating a random
           block it starts processing a garbage block (often 400%
           complete!). Doesn't happen if contestdone2=0.
  FIXED by Cyrus Patel


06-03-98 - Jeff Lawson
  New Suggestion: A/C power checking on the Win32 clients.  Some users
  run their client on their battery powered laptops and would like the
  client to only be working when they are connected to A/C.


06-03-98 - Jeff Lawson
  New Suggestion: some of the files produced by the client are still
  not made "fully qualified" by the Client::InternalGetLocalFilename()
  function.  The checkpoint files are this way.  On startup, if a
  filename is not a fully qualified filename (doesn't contain any '\'
  or '/' or start with a drive specifier), then the filename should be
  made into a fully qualified local file by using the above function.
Addendum (silby):  Logfiles appear to be this way too.
Addendum (silby):  I'll fix this soon, working on it now.
Addendum (silby):  Ok, here's how it works now.  All files are fully
  qualified now, in ValidateConfig().  Some platforms do it via 
  InternalGetLocalFilename, others by using the path of the .ini.
  Either way, it seems to work fine, and much better than before. :)
  (June 10th, 1998)


6-03-98 - Kevin Bracey
  New Bug: Some parts of the program (mail.cpp in particular) print stuff
           irrespective of the quietmode setting.


6-03-98 - Kevin Bracey
  New Suggestion: Would it not be a good idea to move the number of CPUs
                  option to menu 1, next to the CPU-type setting? It's
                  definitely one of the main settings, and I know menu 4
                  was the last place I looked for it when setting 7022 up
                  on by dual-PII box for the first time.
  Fixed: Both options now on a Performance Options menu

  
6-01-98 - Remi Guyomarch
  New Bug: In 407+ (406?) a call to client.WriteConfig() overwrites the
           .ini file with parameters given on the command line. This
           is probably not the expected behaviour, at least from the 
           user point of view.
  Comments: (Silby) I'll look into this. It appears that this *only*
            occurs when the contest switches or the random keyspace
            changes. Fixing it should not be tough.
  More Comments: (Silby) This isn't new, actually. It's just more obvious
                 because I have more options in there. I'll make a new
                 procedure that only updates the randomprefix and
                 contest status.
  FIXED: (Silby) Ok, I added a new function (WriteContestandPrefixConfig).
         It only writes the randomprefix and contestdone settings to the
         file (making sure to load fresh from the .ini first.) I then
         changed all the calls to writeconfig aside from two to
         WriteContestandPrefixConfig. This appears to fix the bug for me.
         (If it does not, please comment, of course.)


5-31-98 - Oscar Chang
  FIXED!!: Between 403 and 406, there is a drop of almost 50k keys/sec on my
           K6-200 using the same CPU core. I've tried taking out the new
           CLI code and playing with the link order with no avail. Me and Daa
           are guessing that it could be the new timing code.
  NOTE:    It seems that when the stack size is 32k instead of 16k it slows
           down the client. Probably affects the variable look ups in the
           rc5 cores, since it doesn't affect the DES core.
           In addition, it solved the problem of why the k6 core was running
           slower then the p6 core on a K6. It was all in the stack.


5-31-98 - Oscar Chang
  FIXED!!: The X key no longer works on Watcom compiles. It will display the
           message that it will quit after the next block is completed but,
           it just keeps going.
